# Task: p2-1-a - Implement Server Sidebar

## Summary
- **Status:** in-progress
- **Started:** 2026-02-12 11:45 EST
- **What it does:** Discord-style server/space sidebar with DM button, server icons, add button
- **Parent:** p2-1 (Server Sidebar / Navigation Components)
- **Phase:** 2 (UI Reskin)

## Context
- Repo: `/home/ubuntu/repos/haos-v2`
- Structure: Flat Next.js (not monorepo - no apps/web)
- Existing files to modify:
  - `components/navigation/navigation-sidebar.tsx`
  - `components/navigation/navigation-item.tsx`
  - `components/navigation/navigation-action.tsx`

## Discovery
- [11:45] Found existing navigation components - use Prisma DB (need to migrate)
- [11:45] Matrix auth provider exists, but Matrix client/sync provider NOT yet (p1-2-b)
- [11:45] Need to create client component that can work now and integrate with Matrix later

## Plan
1. Create types for navigation (spaces)
2. Create DM shortcut component
3. Update navigation-sidebar.tsx as client component with:
   - DM button at top
   - Server list from Matrix (mock for now)
   - Add server button at bottom
   - User panel at bottom
4. Update navigation-item.tsx with:
   - Letter fallback for missing images
   - Discord-style hover animations
   - Active indicator
5. Verify lint/build passes

## Work Log
- [11:45] Started - reading codebase
- [11:50] Context gathered, planning implementation

## Files to Create/Modify
- `lib/matrix/types/space.ts` — Space types for navigation
- `components/navigation/navigation-sidebar.tsx` — Main sidebar
- `components/navigation/navigation-item.tsx` — Server icon
- `components/navigation/navigation-dm.tsx` — DM shortcut button

## What I Tried
(Will update as I work)

## Open Questions
- [ ] Should we mock Matrix spaces or just show empty state?
- [x] Matrix client not available yet - will create hooks with mock data
